<?php 

//widget_start 
/* widgetMeta_start
{"index":"0","isSavedTemplate":null,"template":["","",""]}
widgetMeta_end */
?>
  <div class="report-content">
    <div class="text-center">
        <h1>HeatMapChart</h1>
        <p class="lead">
            This example shows how to create beautiful HeatMapChart
        </p>
    </div>
    <style>
        .apexcharts-canvas {
            margin: 0 auto;
        }
    </style>
    <div style="margin-bottom:50px;">
        <?php
	  $data = $this->dataStore('result_0')
    ?>

    <div style="overflow: scroll">
        <?php
            \koolreport\widgets\koolphp\Table::create([
                'dataSource' => $data,
                'paging' => true,
                
            ]);
            ?>
    </div>

<i class="fa fa-arrow-down" style="font-size:24px;"></i>
<pre style="font-weight:bold"><code>
$data2 = \koolreport\apexcharts\Chart::rowsToColumns($data, [
    'rowColumns' => ['Metric_x'],
    'valueColumns' => ['Metric_y'],
    'fixedColumns' => ['Metric_name']
]);
</code></pre>
<i class="fa fa-arrow-down" style="font-size:24px;"></i>

    <?php
    $data2 = \koolreport\apexcharts\Chart::rowsToColumns($data, [
        'rowColumns' => ['Metric_x'],
        'valueColumns' => ['Metric_y'],
        'fixedColumns' => ['Metric_name']
    ]);
    // \koolreport\core\Utility::prettyPrint2($data2);
    ?>

    <div style="overflow: scroll">
        <?php
            \koolreport\widgets\koolphp\Table::create([
                'dataSource' => $data2,
                // 'paging' => true,
                // 'columns' => ['position', 'name', 'date_start', 'date_end'],
                
            ]);
            ?>
    </div>
        
<i class="fa fa-arrow-down" style="font-size:24px;"></i>
<pre style="font-weight:bold"><code>
\koolreport\apexcharts\HeatMapChart::create(array(
    "dataSource" => $data2,
    "columns" => $data2[0],
));
</code></pre>
<i class="fa fa-arrow-down" style="font-size:24px;"></i>
        <div>
            <?php
            \koolreport\apexcharts\HeatMapChart::create(array(
                "title" => "HeatMap Chart (Single color)",
                "dataSource" => $data2,
                "columns" => $data2[0],
                "options" => [],
                "colors" => ["#008FFB"],
                'widthHeightAutoRatio' => 1.8,
                // "showLegend" => false,
                // "showLabel" => true,
                // "height" => "400px",
                // "width" => "85%",
                "maxWidth" => "800px",
            ));
            ?>
        </div>
    </div>


</div>
//widget_end 
